<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="refresh" />
    <title>Infinite Redirection Loop</title>
    <script>
      // Function to continuously make requests to the /next route
      function requestNext() {
        fetch('/come_back/file-content')
          .then((response) => response.text())
          .then((data) => {
            console.log(data);
            setTimeout(requestNext, 1000);
          })
          .catch((error) => {
            console.error('Error:', error);
          });
      }

      window.onload = requestNext;
    </script>
  </head>
  <body>
    <h1>The page is stuck in an infinite redirection loop</h1>
    <p>Eventually, the page breaks, and we are greeted with an error:</p>
    <p><strong>“The page isn’t redirecting properly”</strong></p>
    <p>
      If you look closely, you will find out that the file section contains the
      chars of the flag:
    </p>
    <div id="flag" style="display: none"></div>
  </body>
</html>
